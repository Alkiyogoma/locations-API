generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Countries {
  id        Int         @id @default(autoincrement())
  iso       String      @db.Char(2)
  name      String
  nicename  String
  iso3      String?     @db.Char(3)
  numcode   Int?
  phonecode Int
  regions   Regions[]

  @@map("countries")
}

model Districts {
  districtName    String? @map("district_name")
  districtCode    Int        @id @map("district_code")
  watcherCount    Int?      @map("watcher_count")
  viewCount       Int?      @map("view_count")
  propertiesCount Int?      @map("properties_count")
  regionId        Int?      @map("region_id")
  regions          Regions?   @relation(fields: [regionId], references: [regionCode])
  wards            Wards[]

  @@map("districts")
}

model Places {
  id               Int     @id @default(autoincrement())
  placeName       String? @map("place_name")
  viewCount       Int?    @map("view_count")
  propertiesCount Int?    @map("properties_count")
  wardId          Int    @map("ward_id")
  ward            Wards   @relation(fields: [wardId], references: [wardCode])

  @@map("places")
}

model Regions {
  regionName      String?     @map("region_name")
  regionCode      Int         @id   @map("region_code")
  watcherCount    Int?        @map("watcher_count")
  viewCount       Int?        @map("view_count")
  propertiesCount Int?        @map("properties_count")
  countryId       Int?        @map("country_id")
  countries        Countries?  @relation(fields: [countryId], references: [id])
  districts        Districts[]

  @@map("regions")
}

model Wards {
  wardName        String?     @map("ward_name")
  wardCode        Int        @id @map("ward_code")
  viewCount       Int?        @map("view_count")
  propertiesCount Int?        @map("properties_count")
  districtId      Int?        @map("district_id")
  districts        Districts? @relation(fields: [districtId], references: [districtCode])
  places          Places[]

  @@map("wards")
}
